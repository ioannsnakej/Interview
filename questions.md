# Вопросы собеседований на позицию DevOps-инженера
<details>
  <summary>Linux</summary>

  ### 1. Что такое load average? Что показывает эта метрика? Почему load average состоит из трёх значений?
    <details>
      <summary>Ответ</summary>

      ***LA (load average - средняя нагрузка системы)*** - параметр, определяющий среднее количество процессов, которые:
      
      - выполняются прямо сейчас (в состоянии running),
      - либо ожидают доступа к CPU или диску (в состоянии uninterruptible sleep).
      
      Значения показываются для последних 1, 5 и 15 минут. Это позволяет:

      - Оценить динамику нагрузки. Значения помогают понять, как процессы в системе нагружают CPU с течением времени.
      - Учесть не только активные процессы, но и те, которые ждут своей очереди. Это позволяет получить более полное представление о загруженности системы.
      - Учесть процессы, которые ожидают завершения операций ввода-вывода. Эти процессы могут значительно влиять на производительность системы, даже если они не занимают CPU напрямую. 
      
      #### Как посмотреть LA:
      - uptime
      - cat /proc/loadavg
      #### Как интерпритировать:
      Главное правило:
      **Сравнивайте load average с количеством ядер процессора.**
      Посмотреть количество ядер можно командой:
      
        nproc
      **Пример:**
      Если у вас N ядра, то:

      - load = N — система загружена на 100%
      - load < N — запас по ресурсам есть
      - load > N — ядрам не хватает времени, процессы начинают ждать
      
      #### Высокое значение не всегда значит, что процессор "зашит".
      На нагрузку влияют и другие факторы:

      |Причина|Описание|
      |-|-|
      |CPU-bound процессы|Программы, активно использующие процессор (компиляция, шифрование, вычисления).|
      |I/O wait | Задержки из-за медленного диска или файловой системы — процессы ждут завершения операций чтения/записи.|
      |Недостаток RAM | Когда система начинает использовать swap — растёт задержка и load.|
      |Блокировка ресурсов | Процессы ждут освобождения файлов, сокетов или блокировок БД.|
      |Много фоновых задач | Cron, systemd-службы, резервные копии, индексация и т.п.|
      #### Как диагностировать:

      - htop покажет загруженность CPU и RAM, а также количество процессов в состоянии D (ожидание I/O)
      - iotop — отследит нагрузку на диск
      - iftop — покажет текущий сетевой трафик
    </details>

  ### 2. Что такое OOM killer? Для чего нужен? Как работает?
  <details>
    <summary>Ответ</summary>
    
    ***OOM Killer*** — механизм ядра Linux, который при исчерпании доступной памяти принудительно завершает отдельные процессы на сервере для освобождения RAM. Освободившаяся память передается ядру ОС, а после перенаправляется тому процессу, которому ее было недостаточно. Сообщение об этом отображается в /var/log/syslog (Debian/Ubuntu) или /var/log/messages (Centos/RHell).

    OOM Killer сканирует запущенные процессы и назначает каждому из них *oom_score* — показатель, который представляет его «вредность» или вероятность завершения. Некоторые факторы, на основе которых рассчитывается oom_score:

    - использование памяти (процессы, потребляющие больше памяти, получают более высокие оценки);
    - время работы процесса (более длительные процессы получают более низкие оценки);
    - привилегии root (процессы, запущенные под root, получают менее низкие оценки);
    - значение nice (процессы с более низким приоритетом (высокими значениями nice) получают более высокие оценки);
    - ручная настройка через oom_score_adj (настраивает вероятность завершения процесса).
  </details>

</details>
<details>
<summary>k8s</summary>

  ### 1. Что такое kubernetes?
  <details>
    <summary>Ответ</summary>
      
    ***Kubernetes*** - открытое программное обеспечение для оркестрации контейнеризированных приложений — автоматизации их развёртывания, масштабирования и координации в условиях кластера.
    Он решает следующие задачи:

    - деплоймент — поднимает новые экземпляры приложения;
    - самовосстановление — следит за приложением, если упало, автоматически перезапускает;
    - управление — контролирует жизненный цикл приложения;
    - масштабирование — добавляет или уменьшает количество экземпляров приложения, в зависимости от нагрузки;
    - балансировка трафика — распределяет нагрузку, по экземплярам приложений.
  </details>
</details>